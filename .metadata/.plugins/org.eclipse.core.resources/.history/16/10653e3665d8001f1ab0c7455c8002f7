package com.example.controller;

import java.util.ArrayList;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import com.example.modal.Response;
import com.example.modal.VoteItems;
import com.example.service.VoteService;

@RestController
@RequestMapping("/api/vote")
public class VoteController {

	@Autowired
	private VoteService voteService;

	// 顯示所有投票項目
	@PostMapping("/getItems")
	public Response getAllVoteItems() {
		List<VoteItems> itemList = new ArrayList<VoteItems>();
		itemList = voteService.getAllVoteItems();
		
		Response res = new Response();
		res.setNo(0);
		res.setData(itemList);
		
		return res;
	}
	
	// 新增投票項目
	@PostMapping("/createItem")
    public VoteItems createVoteItem(@RequestBody VoteItems voteItems) {
        return voteService.createVoteItem(voteItems);
    }

}
